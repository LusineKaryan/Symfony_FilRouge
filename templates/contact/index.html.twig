{% extends 'base.html.twig' %}

{% block title %}Contact{% endblock %}

{% block body %}

<style>
    .btn {background: #a87a9e; border-color:grey;}
    .btn:hover {background: #772953; box-shadow:2px 2px #686d69;}
    .btn:active {background: #772953; box-shadow:2px 2px #686d69;}
    #maCarte{ /* la carte DOIT avoir une hauteur sinon elle n'apparaît pas */
      height:300px;
  }
</style>


<div class="example-wrapper">
    <h3>Contact</h3>
    <br>

    {{ form_start(contact_form) }}

    {{ form_row(contact_form.name, {'label': 'Nom d\'utilisateur', 'attr': {'class': 'input-group', 'placeholder': 'Votre nom d\'utilisateur...' }}) }}
    {{ form_row(contact_form.from, {'label': 'Adresse email', 'attr': {'class': 'input-group', 'placeholder': 'Adresse email...' }}) }}
    {{ form_row(contact_form.message, {'label': 'Message', 'attr': {'class': 'input-group', 'placeholder': 'Votre message...' }}) }}

    <input type="submit" value="Envoyer" class="btn btn-success" />
    {{ form_end(contact_form) }}
    <br><br>
    <div class="container">
        <div class="row">
            <div class="contact col-sm-12 col-md-5">
            <h4>Contactez-nous</h4>
                Téléphone
            </div>
            <div class="col-sm-12 col-md-7">
             <h4>Notre emplacement</h4>
             <div id="maCarte"></div>
                <!-- Ici s'affichera la carte -->
            </div>
        </div>
    </div>
</div>

<!-- Fichiers Javascript -->
<script src="https://unpkg.com/leaflet@1.3.1/dist/leaflet.js" integrity="sha512-/Nsx9X4HebavoBvEBuyp3I7od5tA0UzAxs+j83KgC8PU0kgB4XiK4Lfe4y4cgBtaRJQEIFCW+oC506aPT2L1zw==" crossorigin=""></script>
<script>
  var carte = L.map('maCarte').setView([48.790367, 2.455572], 15);

  L.tileLayer('https://{s}.tile.openstreetmap.fr/osmfr/{z}/{x}/{y}.png', {
      // Il est toujours bien de laisser le lien vers la source des données
      attribution: 'données © <a href="//osm.org/copyright">OpenStreetMap</a>/ODbL - rendu <a href="//openstreetmap.fr">OSM France</a>',
      minZoom: 1,
      maxZoom: 20
  }).addTo(carte);

    var marqueur = L.marker([48.790367, 2.455572]).addTo(carte);
    marqueur.bindPopup("<h6>5 rue d'Anjou, Creteil</h6>"); 
</script>
{% endblock %}
